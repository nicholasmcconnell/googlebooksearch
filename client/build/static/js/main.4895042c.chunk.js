(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,a,t){e.exports=t(58)},32:function(e,a,t){},33:function(e,a,t){},52:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(24),r=t.n(c),o=t(7),i=t(8),s=t(6);t(32);var m=function(e){var a=e.children;return l.a.createElement("div",{className:"jumbotron"},a)};function u(e){var a=e.fluid,t=e.children;return l.a.createElement("div",{className:"container".concat(a?"-fluid":"")},t)}function v(e){var a=e.fluid,t=e.children;return l.a.createElement("div",{className:"row".concat(a?"-fluid":"")},t)}function d(e){var a=e.size,t=e.children;return l.a.createElement("div",{className:a.split(" ").map(function(e){return"col-"+e}).join(" ")},t)}var E=function(e){var a=e.navState,t=e.children,n=e.id,c=a?"navbar-collapse collapse show":"navbar-collapse collapse";return l.a.createElement("div",{className:c,id:n},t)},b=t(11);t(33);var f=function(e){return l.a.createElement("div",{className:"formContainer"},l.a.createElement("form",{className:"search"},l.a.createElement("div",{className:"form-group search-group"},l.a.createElement("label",null,"Search:"),l.a.createElement("input",{name:"RecipeSearch",value:e.search,onChange:e.handleInputChange,placeholder:"Search!"})),l.a.createElement("button",Object(b.a)({className:"btn btn-secondary",onClick:e.handleFormSubmit,type:"success"},"className","input-lg"),"Submit")))},h=t(12),p=t.n(h),g={search:function(e){return p.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},saveBook:function(e){var a=e.title,t=e.authors,n=e.description,l=e.infoLink,c=e.imageLinks.smallThumbnail;return p.a.post("/api/books",{title:a,authors:t,description:n,image:c,infoLink:l})},getBooks:function(){return p.a.get("/api/books")},deleteBook:function(e){return p.a.delete("/api/books/"+e)}};t(52);var k=function(e){var a;console.log(e.saveView);var t=e.book.imageLinks?e.book.imageLinks.smallThumbnail:e.book.image;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card offset-1 col-md-4",style:{display:"flex"}},l.a.createElement("img",{src:t,className:"card-img-top",alt:"..."}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},e.book.title),l.a.createElement("h4",{className:"card-title"},e.book.authors?e.book.authors.join(", "):""),l.a.createElement("p",{className:"crop description"},e.book.description),l.a.createElement("div",{className:"buttons"},l.a.createElement("a",{onClick:e.saveView?function(){return e.deleteBook(e.book._id)}:function(){return e.saveBook(e.book)},className:"btnSaveDelete btn btn-primary"},e.saveView?"Delete":"Save"),l.a.createElement("a",(a={href:"#",target:"_blank"},Object(b.a)(a,"href",e.book.infoLink),Object(b.a)(a,"className","btn btn-primary"),a),"More")))))};var N=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),i=o[0],E=o[1],b=Object(n.useState)({}),h=Object(s.a)(b,2),p=(h[0],h[1],Object(n.useState)("")),N=Object(s.a)(p,2);N[0],N[1];return l.a.createElement(u,{fluid:!0},l.a.createElement(v,null,l.a.createElement(d,{size:"md-12"},l.a.createElement(m,null,l.a.createElement("h1",null,"Google Books")),l.a.createElement("div",null,l.a.createElement(f,{handleInputChange:function(e){e.preventDefault();var a=e.target.value;E(a)},handleFormSubmit:function(e){e.preventDefault(),g.search(i).then(function(e){return c(e.data.items)}).catch(function(e){return console.log(e)})}})),l.a.createElement("div",null,t.length?t.map(function(e){return l.a.createElement(k,{book:e.volumeInfo,key:e.id,saveBook:(N[0],N[1],function(e){g.saveBook(e).then().catch(function(e){return console.log(e)})})})}):l.a.createElement("p",null)))),l.a.createElement(v,null,l.a.createElement(d,{size:"md-3 sm-12"}),l.a.createElement(d,{size:"md-6 "}),l.a.createElement(d,{size:"md-3 sm-12"})))};var j=function(e){var a=Object(n.useState)({}),t=Object(s.a)(a,2),c=t[0],r=t[1];Object(n.useEffect)(function(){g.getBooks().then(function(e){return r(e.data)}).catch(function(e){return console.log(e)})},[]);var i=function(e){console.log(e),g.deleteBook(e).then(function(){g.getBooks().then(function(e){return r(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})};return l.a.createElement(u,{fluid:!0},l.a.createElement(v,null,l.a.createElement(d,{size:"md-12"},l.a.createElement(m,null,l.a.createElement("h1",null,"Saved Books!")),l.a.createElement("div",null,c.length?c.map(function(e){return l.a.createElement(k,{book:e,key:e.id,deleteBook:i,saveView:!0})}):l.a.createElement("p",null,"Please search for a book!")))),l.a.createElement(v,null,l.a.createElement(d,{size:"md-2"},l.a.createElement(o.b,{to:"/"},"\u2190 Back to Search"))))};var S=function(){return l.a.createElement(u,{fluid:!0},l.a.createElement(v,null,l.a.createElement(d,{size:"md-12"},l.a.createElement(m,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};function O(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1],r=Object(i.f)().pathname;return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(o.b,{to:"/",className:"navbar-brand"},"Google Books"),l.a.createElement("button",{onClick:function(){return c(t=!t)},className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#target-collapse"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement(E,{navState:t,id:"target-collapse"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"/"===r?"nav-item active":"nav-item"},l.a.createElement(o.b,{to:"/",className:"nav-link"},"Search")),l.a.createElement("li",{className:"/save"===r?"nav-item active":"nav-item"},l.a.createElement(o.b,{to:"/save",className:"nav-link"},"Saved")))))}var B=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(O,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:["/","/search"]},l.a.createElement(N,null)),l.a.createElement(i.a,{exact:!0,path:"/save"},l.a.createElement(j,null)),l.a.createElement(i.a,null,l.a.createElement(S,null)))))};r.a.render(l.a.createElement(B,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.4895042c.chunk.js.map